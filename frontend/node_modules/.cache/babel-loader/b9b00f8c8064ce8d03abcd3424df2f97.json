{"remainingRequest":"D:\\ML-AI\\mlainew\\newone\\node_modules\\babel-loader\\lib\\index.js!D:\\ML-AI\\mlainew\\newone\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ML-AI\\mlainew\\newone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ML-AI\\mlainew\\newone\\src\\views\\onlinecsc\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ML-AI\\mlainew\\newone\\src\\views\\onlinecsc\\index.vue","mtime":1678687015832},{"path":"D:\\ML-AI\\mlainew\\newone\\babel.config.js","mtime":1678687015691},{"path":"D:\\ML-AI\\mlainew\\newone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678687252373},{"path":"D:\\ML-AI\\mlainew\\newone\\node_modules\\babel-loader\\lib\\index.js","mtime":1678687255549},{"path":"D:\\ML-AI\\mlainew\\newone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678687252373},{"path":"D:\\ML-AI\\mlainew\\newone\\node_modules\\vue-loader\\lib\\index.js","mtime":1678687256835}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovTUwtQUkvbWxhaW5ldy9uZXdvbmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9NTC1BSS9tbGFpbmV3L25ld29uZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInOwppbXBvcnQgRmlsZVNhdmVyIGZyb20gJ2ZpbGUtc2F2ZXInOwppbXBvcnQgeyB3cml0ZSwgdXRpbHMgfSBmcm9tICd4bHN4JzsKaW1wb3J0IHsgY2hhdGdwdCB9IGZyb20gIkAvYXBpL2NoYXRncHQiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRleHRhcmVhOiAnJywKICAgICAgaW5wdXQ6ICcnLAogICAgICByZXN1bHQ6ICcnLAogICAgICBzdGFnZTogZmFsc2UsCiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBmaWxlTGlzdDogJycsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/lr7zlh7pleGNlbAogICAgaGFuZGxlRG93bmxvYWQ6IGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkKG5hbWUpIHsKICAgICAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4Y2VsX3RhYmxlIik7CiAgICAgIHZhciBldCA9IHV0aWxzLnRhYmxlX3RvX2Jvb2sodGFibGUpOwogICAgICB2YXIgb3V0cHV0ID0gd3JpdGUoZXQsIHsKICAgICAgICBib29rVHlwZTogInhsc3giLAogICAgICAgIGJvb2tTU1Q6IHRydWUsCiAgICAgICAgdHlwZTogImFycmF5IgogICAgICB9KTsKICAgICAgdHJ5IHsKICAgICAgICBGaWxlU2F2ZXIuc2F2ZUFzKG5ldyBCbG9iKFtvdXRwdXRdLCB7CiAgICAgICAgICB0eXBlOiAiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIgogICAgICAgIH0pLCAiIi5jb25jYXQobmFtZSwgIi54bHN4IikpOwogICAgICB9IGNhdGNoIChlKSB7fQogICAgICByZXR1cm4gb3V0cHV0OwogICAgfSwKICAgIGVycm9yQ29ycmVjdDogZnVuY3Rpb24gZXJyb3JDb3JyZWN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB0aGF0LCBjb250ZXh0LCBrZXksIHJlc3BvbnNlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRoYXQgPSBfdGhpczsKICAgICAgICAgICAgICB0aGF0LmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgIGNvbnRleHQgPSB0aGF0LnRleHRhcmVhOwogICAgICAgICAgICAgIGtleSA9IHRoYXQuaW5wdXQ7CiAgICAgICAgICAgICAgaWYgKCEoY29udGV4dCA9PT0gJycgfHwga2V5ID09PSAnJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6L6T5YWl5YaF5a655LiN6IO95Li656m6JywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoYXQucmVzdWx0ID0gJyc7CiAgICAgICAgICAgICAgdGhhdC52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnRleHQpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gY2hhdGdwdChjb250ZXh0LCBrZXkpOwogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVSZXN1bHQ6IGZ1bmN0aW9uIHNhdmVSZXN1bHQoKSB7CiAgICAgIHZhciB0ZW1wRGF0YSA9IHRoaXMucmVzdWx0OwogICAgICBpZiAodGVtcERhdGEgPT09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6L6T5YWl5YaF5a655Li656m677yBJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB0ZW1wUmVzdWx0ID0gbmV3IEJsb2IoW3RlbXBEYXRhXSwgewogICAgICAgICAgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcKICAgICAgICB9KTsKICAgICAgICBzYXZlQXModGVtcFJlc3VsdCwgJ0NoYXRHUFTnu5PmnpwudHh0Jyk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["saveAs","FileSaver","write","utils","chatgpt","data","textarea","input","result","stage","visible","fileList","tableData","loading","methods","handleDownload","name","table","document","getElementById","et","table_to_book","output","bookType","bookSST","type","Blob","concat","e","errorCorrect","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","that","context","key","response","wrap","_callee$","_context","prev","next","$message","showClose","message","console","log","sent","stop","saveResult","tempData","tempResult"],"sources":["src/views/onlinecsc/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-col :span=\"12\">\r\n      <div class=\"tip\">\r\n        请输入需要提取的文本:\r\n      </div>\r\n      <el-input v-model=\"textarea\" type=\"textarea\" :disabled=\"stage\" :rows=\"11\" placeholder=\"请输入\" clearable />\r\n      <div class=\"tip\" style=\"padding-top:10px\">\r\n        请输入提取的信息类型（用逗号隔开）:\r\n      </div>\r\n      <el-input v-model=\"input\" type=\"input\" :disabled=\"stage\" :rows=\"11\" placeholder=\"请输入\" clearable />\r\n      <div style=\"padding-top:10px;padding-bottom:10px;\">\r\n        <el-button type=\"primary\" :loading=\"loading\" @click=\"errorCorrect()\">开始提取</el-button>\r\n        <el-button type=\"basic\" style=\"margin-left:24px;margin-top:16px;\"\r\n          @click=\"handleDownload('text-demo')\">导出Excel</el-button>\r\n      </div>\r\n\r\n      <div v-show=\"visible\" class=\"tip\">\r\n        ChatGPT:\r\n      </div>\r\n      <el-input v-show=\"visible\" v-model=\"result\" type=\"textarea\" :rows=\"11\" />\r\n    </el-col>\r\n    <el-col :span=\"12\">\r\n      <el-table v-loading=\"loading\" id=\"excel_table\" :data=\"tableData\"\r\n        style=\"width: 100%;margin-left:48px;margin-right:48px;\">\r\n        <el-table-column prop=\"prompt\" label=\"Prompt\"></el-table-column>\r\n        <el-table-column prop=\"value\" label=\"Value\"></el-table-column>\r\n      </el-table>\r\n    </el-col>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { saveAs } from 'file-saver'\r\nimport FileSaver from 'file-saver'\r\nimport { write, utils } from 'xlsx';\r\nimport { chatgpt } from \"@/api/chatgpt\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      textarea: '',\r\n      input: '',\r\n      result: '',\r\n      stage: false,\r\n      visible: false,\r\n      fileList: '',\r\n      tableData: [],\r\n      loading: false,\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    //导出excel\r\n    handleDownload(name) {\r\n      let table = document.getElementById(\"excel_table\")\r\n      let et = utils.table_to_book(table)\r\n      let output = write(et, {\r\n        bookType: \"xlsx\",\r\n        bookSST: true,\r\n        type: \"array\"\r\n      })\r\n\r\n      try {\r\n        FileSaver.saveAs(new Blob([output], { type: \"application/octet-stream\" }), `${name}.xlsx`)\r\n      } catch (e) { }\r\n\r\n      return output\r\n    },\r\n    async errorCorrect() {\r\n      var that = this\r\n      that.loading = true\r\n      var context = that.textarea\r\n      var key = that.input\r\n      if (context === '' || key === '') {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '输入内容不能为空',\r\n          type: 'warning'\r\n        })\r\n        that.result = ''\r\n        that.visible = false\r\n      } else {\r\n        console.log(context)\r\n        const response = await chatgpt(context, key);\r\n        console.log(response)\r\n        this.tableData = response\r\n        this.loading = false\r\n      }\r\n    },\r\n    saveResult() {\r\n      var tempData = this.result\r\n      if (tempData === '') {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '输入内容为空！',\r\n          type: 'warning'\r\n        })\r\n      } else {\r\n        var tempResult = new Blob([tempData], { type: 'text/plain;charset=utf-8' })\r\n        saveAs(tempResult, 'ChatGPT结果.txt')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tip {\r\n  font-family: Helvetica Neue, Arial, Helvetica, sans-serif;\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n"],"mappings":";;AAiCA,SAAAA,MAAA;AACA,OAAAC,SAAA;AACA,SAAAC,KAAA,EAAAC,KAAA;AACA,SAAAC,OAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,KAAA;MACAC,MAAA;MACAC,KAAA;MACAC,OAAA;MACAC,QAAA;MACAC,SAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IAEA;IACAC,cAAA,WAAAA,eAAAC,IAAA;MACA,IAAAC,KAAA,GAAAC,QAAA,CAAAC,cAAA;MACA,IAAAC,EAAA,GAAAjB,KAAA,CAAAkB,aAAA,CAAAJ,KAAA;MACA,IAAAK,MAAA,GAAApB,KAAA,CAAAkB,EAAA;QACAG,QAAA;QACAC,OAAA;QACAC,IAAA;MACA;MAEA;QACAxB,SAAA,CAAAD,MAAA,KAAA0B,IAAA,EAAAJ,MAAA;UAAAG,IAAA;QAAA,OAAAE,MAAA,CAAAX,IAAA;MACA,SAAAY,CAAA;MAEA,OAAAN,MAAA;IACA;IACAO,YAAA,WAAAA,aAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA,EAAAC,OAAA,EAAAC,GAAA,EAAAC,QAAA;QAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAR,IAAA,GAAAL,KAAA;cACAK,IAAA,CAAAtB,OAAA;cACAuB,OAAA,GAAAD,IAAA,CAAA7B,QAAA;cACA+B,GAAA,GAAAF,IAAA,CAAA5B,KAAA;cAAA,MACA6B,OAAA,WAAAC,GAAA;gBAAAI,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACAb,KAAA,CAAAc,QAAA;gBACAC,SAAA;gBACAC,OAAA;gBACArB,IAAA;cACA;cACAU,IAAA,CAAA3B,MAAA;cACA2B,IAAA,CAAAzB,OAAA;cAAA+B,QAAA,CAAAE,IAAA;cAAA;YAAA;cAEAI,OAAA,CAAAC,GAAA,CAAAZ,OAAA;cAAAK,QAAA,CAAAE,IAAA;cAAA,OACAvC,OAAA,CAAAgC,OAAA,EAAAC,GAAA;YAAA;cAAAC,QAAA,GAAAG,QAAA,CAAAQ,IAAA;cACAF,OAAA,CAAAC,GAAA,CAAAV,QAAA;cACAR,KAAA,CAAAlB,SAAA,GAAA0B,QAAA;cACAR,KAAA,CAAAjB,OAAA;YAAA;YAAA;cAAA,OAAA4B,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAhB,OAAA;MAAA;IAEA;IACAiB,UAAA,WAAAA,WAAA;MACA,IAAAC,QAAA,QAAA5C,MAAA;MACA,IAAA4C,QAAA;QACA,KAAAR,QAAA;UACAC,SAAA;UACAC,OAAA;UACArB,IAAA;QACA;MACA;QACA,IAAA4B,UAAA,OAAA3B,IAAA,EAAA0B,QAAA;UAAA3B,IAAA;QAAA;QACAzB,MAAA,CAAAqD,UAAA;MACA;IACA;EACA;AACA"}]}