{"remainingRequest":"D:\\ML-AI\\mlainew\\newone\\node_modules\\babel-loader\\lib\\index.js!D:\\ML-AI\\mlainew\\newone\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\ML-AI\\mlainew\\newone\\src\\api\\TextIn.js","dependencies":[{"path":"D:\\ML-AI\\mlainew\\newone\\src\\api\\TextIn.js","mtime":1678845487520},{"path":"D:\\ML-AI\\mlainew\\newone\\babel.config.js","mtime":1678687015691},{"path":"D:\\ML-AI\\mlainew\\newone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678687252373},{"path":"D:\\ML-AI\\mlainew\\newone\\node_modules\\babel-loader\\lib\\index.js","mtime":1678687255549},{"path":"D:\\ML-AI\\mlainew\\newone\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1678687253345}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CnZhciBhcHBJZCA9ICcwNjQ3Y2JlNGI0YjUzZTQ1Y2UxMzg2YzY3MzIwN2Y2OSc7CnZhciBzZWNyZXRDb2RlID0gJzBiZjhlN2MxZWVmNzQ4MDY5ODdlNGM1YzVmZTM2MTVhJzsKdmFyIHVybCA9ICdodHRwczovL2FwaS50ZXh0aW4uY29tL2FpL3NlcnZpY2UvdjIvcmVjb2duaXplJzsKZXhwb3J0IHZhciBvY3IgPSBmdW5jdGlvbiBvY3IoZmlsZURhdGEpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZURhdGEpOwogICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBmaWxlRGF0YSA9IHRoaXMucmVzdWx0OwogICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgIHhoci5vcGVuKCJQT1NUIiwgdXJsKTsKICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoIngtdGktYXBwLWlkIiwgYXBwSWQpOwogICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcigieC10aS1zZWNyZXQtY29kZSIsIHNlY3JldENvZGUpOwogICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7CiAgICAgICAgICB2YXIgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2U7CiAgICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsKICAgICAgICAgICAgdmFyIHRleHRTdHJpbmcgPSAiIjsKICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoucmVzdWx0LmxpbmVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgdGV4dFN0cmluZyArPSBvYmoucmVzdWx0LmxpbmVzW2pdLnRleHQgKyAnICc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzb2x2ZSh0ZXh0U3RyaW5nKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgeGhyLnNlbmQoZmlsZURhdGEpOwogICAgfTsKICB9KTsKfTs="},{"version":3,"names":["appId","secretCode","url","ocr","fileData","Promise","resolve","reject","reader","FileReader","readAsArrayBuffer","onload","e","result","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","response","obj","JSON","parse","textString","j","lines","length","text","send"],"sources":["D:/ML-AI/mlainew/newone/src/api/TextIn.js"],"sourcesContent":["const appId = '0647cbe4b4b53e45ce1386c673207f69'\r\nconst secretCode = '0bf8e7c1eef74806987e4c5c5fe3615a'\r\nconst url = 'https://api.textin.com/ai/service/v2/recognize'\r\nexport const ocr = (fileData) => {\r\n  return new Promise((resolve, reject) => {\r\n    var reader = new FileReader();\r\n    reader.readAsArrayBuffer(fileData);\r\n    reader.onload = function (e) {\r\n      var fileData = this.result;\r\n      var xhr = new XMLHttpRequest();\r\n      xhr.open(\"POST\", url);\r\n      xhr.setRequestHeader(\"x-ti-app-id\", appId);\r\n      xhr.setRequestHeader(\"x-ti-secret-code\", secretCode);\r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n          xhr.onreadystatechange = null;\r\n          var response = xhr.response;\r\n          var obj = {};\r\n          try {\r\n            obj = JSON.parse(response);\r\n            let textString = \"\";\r\n            for (let j = 0; j < obj.result.lines.length; j++) {\r\n              textString += obj.result.lines[j].text + ' ';\r\n            }\r\n            resolve(textString);\r\n          } catch (e) {\r\n            reject(e);\r\n          }\r\n        }\r\n      };\r\n      xhr.send(fileData);\r\n    };\r\n  });\r\n};\r\n"],"mappings":";AAAA,IAAMA,KAAK,GAAG,kCAAkC;AAChD,IAAMC,UAAU,GAAG,kCAAkC;AACrD,IAAMC,GAAG,GAAG,gDAAgD;AAC5D,OAAO,IAAMC,GAAG,GAAG,SAANA,GAAGA,CAAIC,QAAQ,EAAK;EAC/B,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;IACtC,IAAIC,MAAM,GAAG,IAAIC,UAAU,EAAE;IAC7BD,MAAM,CAACE,iBAAiB,CAACN,QAAQ,CAAC;IAClCI,MAAM,CAACG,MAAM,GAAG,UAAUC,CAAC,EAAE;MAC3B,IAAIR,QAAQ,GAAG,IAAI,CAACS,MAAM;MAC1B,IAAIC,GAAG,GAAG,IAAIC,cAAc,EAAE;MAC9BD,GAAG,CAACE,IAAI,CAAC,MAAM,EAAEd,GAAG,CAAC;MACrBY,GAAG,CAACG,gBAAgB,CAAC,aAAa,EAAEjB,KAAK,CAAC;MAC1Cc,GAAG,CAACG,gBAAgB,CAAC,kBAAkB,EAAEhB,UAAU,CAAC;MACpDa,GAAG,CAACI,kBAAkB,GAAG,YAAY;QACnC,IAAIJ,GAAG,CAACK,UAAU,KAAK,CAAC,EAAE;UACxBL,GAAG,CAACI,kBAAkB,GAAG,IAAI;UAC7B,IAAIE,QAAQ,GAAGN,GAAG,CAACM,QAAQ;UAC3B,IAAIC,GAAG,GAAG,CAAC,CAAC;UACZ,IAAI;YACFA,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC;YAC1B,IAAII,UAAU,GAAG,EAAE;YACnB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,GAAG,CAACR,MAAM,CAACa,KAAK,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;cAChDD,UAAU,IAAIH,GAAG,CAACR,MAAM,CAACa,KAAK,CAACD,CAAC,CAAC,CAACG,IAAI,GAAG,GAAG;YAC9C;YACAtB,OAAO,CAACkB,UAAU,CAAC;UACrB,CAAC,CAAC,OAAOZ,CAAC,EAAE;YACVL,MAAM,CAACK,CAAC,CAAC;UACX;QACF;MACF,CAAC;MACDE,GAAG,CAACe,IAAI,CAACzB,QAAQ,CAAC;IACpB,CAAC;EACH,CAAC,CAAC;AACJ,CAAC"}]}